{% load static %}

<!-- Reviews Grid -->
{% if reviews %}
<div class="grid md:grid-cols-2 gap-4">
  {% for review in reviews %}
  <div class="bg-[#fff9e6] rounded-xl p-4 shadow-sm flex gap-3 items-start">
    <!-- User Avatar -->
    <img src="{{ review.user.avatar.url }}" 
         alt="{{ review.user.display_name }}" 
         class="w-12 h-12 rounded-full object-cover">

    <div class="flex-1">
      <div class="flex justify-between items-center">
        <h3 class="font-semibold">{{ review.user.display_name }}</h3>

        <!-- Star Rating -->
        <div class="text-yellow-400">
          {% for i in "123" %}
            {% if forloop.counter <= review.rating %}
              ⭐
            {% else %}
              ☆
            {% endif %}
          {% endfor %}
        </div>
      </div>

      <!-- Review Comment -->
      <p class="text-gray-700 text-sm mt-1">{{ review.comment }}</p>

      <!-- Edit/Delete Buttons (only for the logged-in user's review) -->
      {% if review.user == user %}
      <div class="text-right mt-2">
        <button 
          class="text-sm text-blue-600 edit-review-btn" 
          data-review-id="{{ review.id }}">
          Edit
        </button>
        |
        <button 
          class="text-sm text-red-600 delete-review-btn" 
          data-review-id="{{ review.id }}">
          Delete
        </button>
      </div>
      {% endif %}
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<p class="text-gray-500 text-center mt-4">No reviews yet. Be the first to share your experience!</p>
{% endif %}
