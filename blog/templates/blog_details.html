{% extends "base.html" %}

{% block title %}{{ blog.title }}{% endblock title %}

{% block content %}
<!-- Top purple bar with rounded bottom and a notch/back button -->
<section class="relative bg-[#434162] h-44 md:h-52">
  <!-- curved bottom-right of the header -->
  <div class="absolute right-0 bottom-0 h-10 w-1/3 bg-[#434162] rounded-tl-[40px]"></div>

  <!-- white notch blob on the left edge -->
  <div class="absolute left-0 top-6 h-12 w-12 bg-white rounded-tr-[18px] rounded-br-[18px]"></div>

  <!-- Back button sitting in the notch -->
  <a href="{% url 'blog:main_blog' %}"
     class="absolute left-3 top-7 inline-flex h-8 w-8 items-center justify-center rounded-full bg-white text-[#434162] shadow ring-1 ring-black/10"
     aria-label="Back">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-4 w-4">
      <path fill="currentColor" d="M14.707 5.293a1 1 0 0 1 0 1.414L10.414 11l4.293 4.293a1 1 0 1 1-1.414 1.414l-5-5a1 1 0 0 1 0-1.414l5-5a1 1 0 0 1 1.414 0z"/>
    </svg>
  </a>
</section>

<!-- Overlapping cream card -->
<div class="relative -mt-16 md:-mt-20 max-w-6xl mx-auto px-6">
  <div class="rounded-[28px] bg-[#F7F4EC] ring-1 ring-black/10 p-6 md:p-10">

    <!-- Top row: image + title/meta -->
    <div class="grid grid-cols-1 md:grid-cols-5 gap-6 md:gap-10 items-start">
      <!-- Thumbnail (left) -->
      <div class="md:col-span-2">
        {% if blog.thumbnail %}
          <img src="{{ blog.thumbnail }}" alt="Blog thumbnail"
               class="w-full h-48 md:h-56 object-cover rounded-[16px] bg-slate-200 shadow-md ring-1 ring-black/5">
        {% else %}
          <div class="w-full h-48 md:h-56 rounded-[16px] bg-slate-200 ring-1 ring-black/5"></div>
        {% endif %}
      </div>

      <!-- Title + meta + actions (right) -->
      <div class="md:col-span-3">
        <h1 class="font-head text-3xl md:text-5xl font-extrabold leading-tight text-[#793217]">
          {{ blog.title }}
        </h1>

        <div class="mt-3 text-[11px] md:text-xs text-slate-600">
          <p>Created by <span class="font-semibold">user.name</span></p>
          {% if blog.created_at %}
            <p>{{ blog.created_at|date:"F jS, Y" }}</p>
          {% endif %}
        </div>


    <!-- Body -->
    <article class="mt-8 md:mt-10 max-w-4xl mx-auto text-slate-800 leading-7 md:leading-8">
      {{ blog.content|default:blog.content|linebreaks }}
    </article>
  </div>
</div>
{% endblock content %}
